# Amaç: RT-DETRv2 için pothole dataset tanımı (RT-DETR sürümleriyle uyumlu güvenli transform seti).
# Bağımlılıklar: RT-DETRv2 YAMLConfig loader
# Kullanım: 02_train.py config senkronizasyonu ile otomatik olarak RT-DETR içine kopyalanır.

num_classes: 2
remap_mscoco_category: False

train_dataloader:
  type: DataLoader
  dataset:
    type: CocoDetection
    img_folder: /content/dataset/combined_dataset/images/train
    ann_file: /content/dataset/combined_dataset/annotations/train_annotations.json
    return_masks: False
    transforms:
      type: Compose
      ops:
        - {type: RandomPhotometricDistort, p: 0.5}
        - {type: RandomZoomOut, fill: 0}
        - {type: RandomIoUCrop, p: 0.8}
        - {type: SanitizeBoundingBoxes, min_size: 1}
        - {type: RandomHorizontalFlip}
        - {type: Resize, size: [640, 640]}
        - {type: SanitizeBoundingBoxes, min_size: 1}
        - {type: ConvertPILImage, dtype: float32, scale: True}
        - {type: ConvertBoxes, fmt: cxcywh, normalize: True}
  shuffle: True
  drop_last: True
  num_workers: 4
  total_batch_size: 32
  collate_fn:
    type: BatchImageCollateFunction
    scales: ~
    stop_epoch: 71

val_dataloader:
  type: DataLoader
  dataset:
    type: CocoDetection
    img_folder: /content/dataset/combined_dataset/images/val
    ann_file: /content/dataset/combined_dataset/annotations/val_annotations.json
    return_masks: False
    transforms:
      type: Compose
      ops:
        - {type: Resize, size: [640, 640]}
        - {type: ConvertPILImage, dtype: float32, scale: True}
        - {type: ConvertBoxes, fmt: cxcywh, normalize: True}
  shuffle: False
  drop_last: False
  num_workers: 2
  total_batch_size: 32
  collate_fn:
    type: BatchImageCollateFunction
    scales: ~
